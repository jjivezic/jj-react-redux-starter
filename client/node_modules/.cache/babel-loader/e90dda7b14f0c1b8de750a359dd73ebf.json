{"ast":null,"code":"export const sessionService = {\n  /**\n   * Stores user json object ot local storage\n   * @param user\n   */\n  create(user) {\n    delete user.user.password;\n    localStorage.setItem('user', JSON.stringify(user));\n  },\n\n  /**\n   * Destroy user object from local storage and redirects to login\n   */\n  destroy() {\n    localStorage.removeItem('user');\n  },\n\n  getUserId() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    var user = JSON.parse(data);\n    return user ? user.user._id : \"\";\n  },\n\n  getUser() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    var user = JSON.parse(data);\n    return user && user.user ? user.user : null;\n  },\n\n  updateUser(newData) {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    var user = JSON.parse(data);\n    if (newData.email) user.user.email = newData.email;\n    if (newData.firstName) user.user.firstName = newData.firstName;\n    if (newData.lastName) user.user.lastName = newData.lastName;\n    if (newData.token) user.token = newData.token;\n    if (newData.refreshToken) user.refreshToken = newData.refreshToken;\n    delete user.user.password;\n    localStorage.setItem('user', JSON.stringify(user));\n  },\n\n  getSessionToken() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    let session = JSON.parse(data);\n    return session && session.token ? session.token : null;\n  },\n\n  getSessionRefreshToken() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    let session = JSON.parse(data);\n    return session && session.refreshToken ? session.refreshToken : null;\n  },\n\n  getUsername() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    let session = JSON.parse(data);\n    return session && session.user ? session.user.firstName + \" \" + session.user.lastName : null;\n  },\n\n  isAuth() {\n    let data = localStorage.getItem('user');\n    console.log('>>>>>>>>1isAuth', data);\n\n    if (!data) {\n      console.log('>>>>>>>>isAuth');\n      return false;\n    } else {\n      var session = JSON.parse(data);\n      return session.token;\n    }\n  }\n\n};","map":{"version":3,"sources":["/home/petar/Desktop/react-redux-boilerplate/react-redux-starter/client/src/_sessionService/storage.js"],"names":["sessionService","create","user","password","localStorage","setItem","JSON","stringify","destroy","removeItem","getUserId","data","getItem","parse","_id","getUser","updateUser","newData","email","firstName","lastName","token","refreshToken","getSessionToken","session","getSessionRefreshToken","getUsername","isAuth","console","log"],"mappings":"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","sourcesContent":["export const sessionService = {\n\n\n  /**\n   * Stores user json object ot local storage\n   * @param user\n   */\n  create(user) {\n    delete user.user.password;\n    localStorage.setItem('user', JSON.stringify(user));\n  },\n  /**\n   * Destroy user object from local storage and redirects to login\n   */\n  destroy() {\n    localStorage.removeItem('user');\n  },\n  getUserId() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    var user = JSON.parse(data);\n    return (user) ? user.user._id : \"\";\n  },\n  getUser() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    var user = JSON.parse(data);\n    return (user && user.user) ? user.user : null;\n  },\n  updateUser(newData) {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    var user = JSON.parse(data);\n    if (newData.email) user.user.email = newData.email;\n    if (newData.firstName) user.user.firstName = newData.firstName;\n    if (newData.lastName) user.user.lastName = newData.lastName;\n    if (newData.token) user.token = newData.token;\n    if (newData.refreshToken) user.refreshToken = newData.refreshToken;\n\n    delete user.user.password;\n    localStorage.setItem('user', JSON.stringify(user));\n  },\n  getSessionToken() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    let session = JSON.parse(data);\n    return (session && session.token) ? session.token : null;\n  },\n  getSessionRefreshToken() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    let session = JSON.parse(data);\n    return (session && session.refreshToken) ? session.refreshToken : null;\n  },\n  getUsername() {\n    let data = localStorage.getItem('user');\n    if (!data) return null;\n    let session = JSON.parse(data);\n    return (session && session.user) ? session.user.firstName + \" \" + session.user.lastName : null;\n  },\n  isAuth() {\n    let data = localStorage.getItem('user');\n    console.log('>>>>>>>>1isAuth',data)\n    if (!data) {\n      console.log('>>>>>>>>isAuth')\n      return false;\n    } else {\n      var session = JSON.parse(data);\n      return session.token\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}